<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Maverick,熊猫小A,Galileo,blog" />
    <meta name="generator" content="Maverick 1.1" />
    <meta name="template" content="Galileo" />
    <link rel="alternate" type="application/rss+xml" title="智的博客 &raquo; RSS 2.0" href="https://blog.imalan.cn/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="智的博客 &raquo; ATOM 1.0" href="https://blog.imalan.cn/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/galileo-1c8f2638f2.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/ExSearch/ExSearch-182e5a8868.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/katex.min.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700&display=swap">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/200dd1700cb1c92ebcdc0afb43508a6c.json"
        }
    </script>
    
<title>Semantic Web：结构化数据 - 智的博客</title>
<meta name="author" content="熊猫小A" />
<meta name="description" content="谈谈诸如微格式、微数据等概念与应用。" />
<meta property="og:title" content="Semantic Web：结构化数据 - 智的博客" />
<meta property="og:description" content="谈谈诸如微格式、微数据等概念与应用。" />
<meta property="og:site_name" content="智的博客" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.imalan.cn/archives/259/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2019-02-01T16:31:00-00.00" />
<meta name="twitter:title" content="Semantic Web：结构化数据 - 智的博客" />
<meta name="twitter:description" content="谈谈诸如微格式、微数据等概念与应用。" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
<link rel="dns-prefetch" href="//blog.imalan.cn" />
<!--
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/brand_font/embed.css" />
<style>.brand{font-family:FZCuJinLFW,serif;font-weight: normal!important;}</style>
-->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/apple-touch-icon.png?v=PY43YeeEKx">
<link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/favicon-32x32.png?v=yyLyaqbyRG">
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/favicon-16x16.png?v=yyLyaqbyRG">
<link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/safari-pinned-tab.svg?v=yyLyaqbyRG" color="#505050">
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/favicon.ico?v=yyLyaqbyRG">
<meta name="application-name" content="三無計劃">
<meta name="apple-mobile-web-app-title" content="三無計劃">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#000000">
<meta name="baidu-site-verification" content="9BEwwo6Ibg" />

    </head>
    
    <body>
        
        <div class="container">
            <header id="ga-header">
                <div first>
                    <aside id="ga-brand">
                        <h1 class="brand"><a class="no-style" href="https://blog.imalan.cn/">智的博客</a></h1>
                        <p>只坚持一种正义。我的正义。</p>
                    </aside>
                </div>
                <div second id="ga-nav">
                    <nav class="navs">
                        <ul><li><a class="ga-highlight" href="https://blog.imalan.cn/" target="_self">首页</a></li><span class="separator">·</span><li><a class="ga-highlight" href="https://blog.imalan.cn/archives/" target="_self">归档</a></li><span class="separator">·</span><li><a class="ga-highlight" href="https://blog.imalan.cn/links/" target="_self">友链</a></li><span class="separator">·</span><li><a class="ga-highlight" href="https://blog.imalan.cn/about/" target="_self">关于</a></li><span class="separator">·</span><li><a href="#" target="_self" class="search-form-input ga-highlight">搜索</a></li></ul>
                    </nav>
                </div>
            </header>
            <div class="wrapper">
                
<main>    
    <section class="ga-section ga-content">
        <article class="yue">
            <h1 class="ga-post_title">Semantic Web：结构化数据</h1>
            <span class="ga-post_meta ga-mono">
                <span>熊猫小A</span>
                <time>
                    2019-02-01
                </time>
                
                in <a no-style class="category" href="https://blog.imalan.cn/category/偶尔Geek/">
                    偶尔Geek
                </a>
                
                
                <span class="leancloud_visitors" 
                    id="/archives/259/" 
                    data-flag-title="Semantic Web：结构化数据"> · <i class="leancloud-visitors-count"></i> Views</span>
                
            </span>
            <div class="ga-content_body">
                <p>文章标题是几个故弄玄虚的词，但本文要聊的是更具体与实用的东西：从某些愿景出发，谈诸如 Microdata、Microformat、JSON-LD 等概念与其实践。</p>
<!--more-->


<h2>0X01: Semantic Web</h2>
<p><ruby>语义网<rp>(</rp><rt>Semantic Web</rt><rp>)</rp></ruby>是由 Tim Berners-Lee 于 1998 年提出的概念，它的核心是给万维网上的文档（例如 HTML）添加可以被机器理解的语义作为文档的<ruby>元数据<rp>(</rp><rt>metadata</rt><rp>)</rp></ruby>，使整个互联网成为一个通用的信息交换媒介<sup id="fn_ref_1"><a href="#fn_1">1</a></sup>。</p>
<p>说得更简单些，语义网的宗旨是帮助计算机理解网络上各种资源到底是什么，以此来使信息的集合、分发、分析效率更高，并且有的放矢。</p>
<p>语义网的实现途径有很多，例如 HTML 中的各种语义化标签就是一例。我们常常推荐使用诸如 <code>&lt;nav&gt;</code>、<code>&lt;header&gt;</code>、<code>&lt;aside&gt;</code> 等标签代替单纯的 <code>&lt;div&gt;</code>，背后的目的之一就是使 HTML 文档具有更好的语义：对机器而言，更容易理解页面上具体是什么。<a href="https://www.w3schools.com/html/html_accessibility.asp">HTML Accessibility</a>  就相当依赖这些语义数据，读屏软件<sup id="fn_ref_2"><a href="#fn_2">2</a></sup>可以很清楚地知道 <code>&lt;nav&gt;</code> 标签中的链接代表着页面导航，<code>&lt;figure&gt;</code> 标签中的内容代表着文章配图与图题，使用 <code>&lt;div&gt;</code> 与 <code>&lt;img&gt;</code> 标签在视觉展示效果上也许能达到相同的效果，但是它背后蕴含的信息量却是截然不同的。不过 Accessibility 是一个大议题，不是本文重点。</p>
<p>语义网通过使用标准、标记语言以及相关的工具作为技术实现手段，本文要聊的就是其中一种：<ruby>结构化数据<rp>(</rp><rt>Structured Data </rt><rp>)</rp></ruby>。</p>
<h2>0X02: Structured Data</h2>
<p>结构化数据一个大概念，它指一切以某种特定结构组织的数据，例如一个数据库、一张数据表。实际上我们常用的词 SQL — Structured Query Language 就蕴含着结构化数据的思想。</p>
<p>在 Web 语境下说结构化数据，主要说的是以某种特定的数据结构呈现页面的内容。例如一个介绍了一张菜谱的网页，视觉上的效果各有不同，但其中的重要信息是一致的：菜名、原料与用量、烹制顺序、烹制时间等。结构化数据通过某种标准，帮助各个网站对其内容做好标记，方便第三方服务抓取、分析与展示。</p>
<p>结构化数据是一种思想，具体实现途径有多种，例如<a href="https://www.w3.org/TR/microdata/"><ruby>微数据<rp>(</rp><rt>Microdata</rt><rp>)</rp></ruby></a>，<a href="http://microformats.org"><ruby>微格式<rp>(</rp><rt>Microformat</rt><rp>)</rp></ruby></a>，<a href="https://json-ld.org/">JSON-LD</a>，RDFa 等。但不论使用哪种途径，都需要一个统一的标准为<ruby>事物<rp>(</rp><rt>Thing</rt><rp>)</rp></ruby>制定必须的属性集合，例如一辆汽车的结构化属性（价格、排量等），一本书的结构化属性（书名、作者、出版时间等）。</p>
<p>互联网上，<ruby>事实上的<rp>(</rp><rt>de-facto</rt><rp>)</rp></ruby>结构化数据标准是 <a href="https://schema.org">Schema.org</a>，它制定了许多标准，并且仍然在添加更多的标准，例如下图是 Schema.org 制定的一张菜谱需要的结构内容：</p>
<p><figure style="flex: 72.84382284382285" ><img width="1250" height="858" src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/archives/assets/98cd42a165c0deea490c762572a3874a.png" /><figcaption>Scheme.org - Recipe</figcaption></figure></p>
<p>可以想象，如果需要一个网页展示的菜谱更容易被机器理解，就需要在网页中显式地指明上图中列出的数据，而且还是以某种开放的、大家都接受的格式。</p>
<p>需要特别说明的是，虽然结构化数据经常和 SEO 一块儿讨论，但结构化数据的作用绝不只是 SEO，它是“讲究的 HTML”所必备的。</p>
<p>现在，我们来聊聊技术细节。对技术不敏感的读者可以止步于此了。</p>
<h2>0X03: Microdata</h2>
<p>Microdata，或者微数据，是 HTML 5 引入的。它扩展了 HTML 的属性集，通过 <code>itemscope</code>、<code>itemtype</code>、<code>itemprop</code> 加上 <code>itemid</code> 与 <code>itemref</code> 来界定结构化数据的类型与数据来源。</p>
<p>给标签加上 <code>itemscope</code> 属性，代表这是一个事物（item）：</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">itemscope</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
<p>标记了 <code>itemscope</code> 的 DOM 树中就应该包含这个事物的信息。这个事物到底是什么？我们可以使用 Scheme.org 所定义的格式：</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">itemscope</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;https://schema.org/Book&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>书名：<span class="p">&lt;</span><span class="nt">span</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>挪威的森林<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>作者：<span class="p">&lt;</span><span class="nt">span</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;author&quot;</span><span class="p">&gt;</span>村上春树<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
<p>带有 <code>itemscope</code> 的元素下面的子元素通过 <code>itemprop</code> 指定数据名称，标签的内容就是这个属性的值。当然 <code>itemprop</code> 也应该在文档中查询对应的事物得到。</p>
<p><code>itemid</code> 与 <code>itemref</code> 用于无法在同一个 <code>itemscope</code> 中指定所有结构化数据的情况。例如：</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">itemscope</span> <span class="na">itemref</span><span class="o">=</span><span class="s">&quot;book-1-attr-1 book-1-attr-2&quot;</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;https://schema.org/Book&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>书名：<span class="p">&lt;</span><span class="nt">span</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>挪威的森林<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="c">&lt;!-- 在 itemscope 外声明 --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;book-1-attr-1&quot;</span><span class="p">&gt;</span>书名：<span class="p">&lt;</span><span class="nt">span</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;author&quot;</span><span class="p">&gt;</span>村上春树<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;book-1-attr-2&quot;</span><span class="p">&gt;</span>价格：<span class="p">&lt;</span><span class="nt">span</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;price&quot;</span><span class="p">&gt;</span>$20<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
<p>VOID 1.2 版本添加了 Microdata 支持，你可以在检查元素中查看一下。你看到的这个页面使用的是 <a href="http://schema.org/Article">http://schema.org/Article</a> 这个 <code>itemtype</code>，完整的属性集：</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">article</span> <span class="na">itemscope</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;http://schema.org/Article&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>Semantic Web：结构化数据<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">hidden</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;headline&quot;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">time</span> <span class="na">datetime</span><span class="o">=</span><span class="s">&quot;2019-02-01T16:31:14Z&quot;</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;datePublished&quot;</span><span class="p">&gt;</span>2019-02-01<span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;articleBody&quot;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;dateModified&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;2019-02-01T16:31:14Z&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;author&quot;</span><span class="p">&gt;</span>熊猫小A<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">hidden</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;image&quot;</span> <span class="na">itemscope</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;https://schema.org/ImageObject&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;url&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;https://blog.imalan.cn/usr/uploads/2019/02/1792839130.png&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">hidden</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;publisher&quot;</span> <span class="na">itemscope</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;https://schema.org/Organization&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;name&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;熊猫小A的博客&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;logo&quot;</span> <span class="na">itemscope</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;https://schema.org/ImageObject&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;url&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;https://secure.gravatar.com/avatar/1741a6eef5c824899e347e4afcbaa75d?s=256&amp;amp;r=&amp;amp;d=&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">itemscope</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">&quot;mainEntityOfPage&quot;</span> <span class="na">itemtype</span><span class="o">=</span><span class="s">&quot;https://schema.org/WebPage&quot;</span> <span class="na">itemid</span><span class="o">=</span><span class="s">&quot;https://blog.imalan.cn/archives/259/&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</pre></div>
<h2>0X04: Microformat</h2>
<p>Microformat（也叫 μF） 诞生已经 14 年了。它相对 Microdata 而言要更简单一些：使用 class 与 rel 来指定数据类型与数据名。</p>
<p>虽说互联网上有事实上的标准 Schema.org，但你实际上是可以自定义任何 itemtype 作为 Microdata 的。Microformat 则与此不同，你基本上只能使用 <a href="http://microformats.org/wiki/Main_Page">Wiki</a> 上列出来的东西，要想使用新的则需要经过冗长的流程。Microformat 基本上已经是过去时了，所以并不十分推荐。</p>
<p>以一篇文章为例，最适合的类型是 <a href="http://microformats.org/wiki/hentry">hentry</a>：</p>
<p><figure style="flex: 67.99065420560747" ><img width="582" height="428" src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/archives/assets/f72108816423d4cf89289b14ddf9fda1.png" /><figcaption>Microformat - hentry</figcaption></figure></p>
<p>在原有的结构上添加一些 class 名即可完成 Microformat 标注：</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;h-entry&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;p-name&quot;</span><span class="p">&gt;</span>Semantic Web: 结构化数据<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Published by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;p-author h-card&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://blog.imalan.cn&quot;</span><span class="p">&gt;</span>熊猫小A<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
     on <span class="p">&lt;</span><span class="nt">time</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;dt-published&quot;</span> <span class="na">datetime</span><span class="o">=</span><span class="s">&quot;2019-02-01T16:31:14Z&quot;</span><span class="p">&gt;</span>2019-02-01<span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;p-summary&quot;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;e-content&quot;</span><span class="p">&gt;</span>
    ...
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</pre></div>
<p>Microformat 的好处是相对简单，在原始的页面上应用少量的更改即可。并且由于它使用类名作为标志，可以在一定程度上指导页面开发。</p>
<p>不过值得一提的是，Google 的<a href="https://developers.google.com/search/docs/guides/intro-structured-data">结构化数据接入指导</a>中并没有提及它是否支持 Microformat，因此综合考虑下我并没有为本站添加 Microformat 支持。</p>
<h2>0X05: JSON-LD</h2>
<p>JSON-LD 是 JSON for Linking Data 的缩写。我挺喜欢它官网的 slogan：</p>
<blockquote><p>Data is messy and disconnected. JSON-LD organizes and connects it, creating a better Web.</p>
</blockquote>
<p>当然，每一种结构化数据手段都是为了“creating a better Web”。JSON-LD 是相对较新的东西，它采用 JSON 格式在页面中展示页面信息，例如：</p>
<div class="highlight"><pre><span></span><span class="err">&lt;script</span> <span class="err">type=</span><span class="s2">&quot;application/ld+json&quot;</span><span class="err">&gt;</span>
<span class="p">{</span>
  <span class="nt">&quot;@context&quot;</span><span class="p">:</span> <span class="s2">&quot;https://schema.org/&quot;</span><span class="p">,</span>
  <span class="nt">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;Recipe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Grandma&#39;s Holiday Apple Pie&quot;</span><span class="p">,</span>
  <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Elaine Smith&quot;</span><span class="p">,</span>
  <span class="nt">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;http://......&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A classic apple pie.&quot;</span>
<span class="p">}</span>
<span class="err">&lt;/script&gt;</span>
</pre></div>
<p>这段代码可以放在页面的 head 中，也可以放在页面内。Google 明确说明了它支持动态注入的 JSON-LD 数据，也就是说可以放心地在页面中使用 AJAX 等技术：</p>
<blockquote><p>Google can read JSON-LD data when it is dynamically injected into the page's contents, such as by JavaScript code or embedded widgets in your content management system.</p>
</blockquote>
<p>使用 JSON-LD 的好处是完全不用更改原 HTML 结构，只需要在页面中添加这部分数据即可。坏处是它使用独立的一块 JSON 来展示数据，使页面数据有一部分冗余。</p>
<p>注意，JSON-LD 是 Google 推荐的结构化数据标注方式。另还有 RDFa 等标注方式，现在用得较少了，就不单独说明了。</p>
<h2>0X06: In real world</h2>
<p>虽然 Google 在「尝试搞明白网页上都在说什么」这件事上做得已经相当不错了，但充分地使用结构化数据为网页做好标记仍然是有意义的。一个明显的优势是做好了标注的网页在 Google 的搜索结果中<strong>可能</strong>会有更好的展示。</p>
<p><figure style="flex: 63.308457711442784" ><img width="509" height="402" src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/archives/assets/d5b479add1aa60d960527a205068d779.png" /><figcaption>一个菜单搜索结果</figcaption></figure></p>
<p>Google 在<a href="https://developers.google.com/search/docs/guides/mark-up-content">这里</a>列举了它所支持的部分类型，截止本文写作（2019-02-01），支持的类型与可能的结果展示方式如下：</p>
<p><figure style="flex: 82.00899550224888" ><img width="1094" height="667" src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/archives/assets/8946acbe0ab019c65c007c9ea38be944.png" /><figcaption>Google 支持的标注类型</figcaption></figure></p>
<p>对每种数据类型，在提供了所有<ruby>必须<rp>(</rp><rt>required</rt><rp>)</rp></ruby>信息的前提下，Google 提倡提供尽量多的<ruby>可用<rp>(</rp><rt>optional</rt><rp>)</rp></ruby>信息。但是值得注意的是，Google 有他自己的一套要求，与 Scheme.org 的要求并不一定一致。</p>
<p>Google 提供了一个<a href="https://search.google.com/structured-data/testing-tool">结构化数据检查工具</a>，你可以输入网址或者粘贴代码来查看网页标记是否合规，例如你正在看到的这个页面检测结果如下：</p>
<p><figure style="flex: 93.20388349514563" ><img width="1920" height="1030" src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/archives/assets/a45b968fd58627bb866642ba3cb7527c.png" /><figcaption>测试结果</figcaption></figure></p>
<p>至于是否需要在页面中同时应用多种标记，例如同时使用 JSON-LD 与 Microdata，这个视情况而定。只要多个标记的标记内容都是一致的，Google 是可以接受的，但是若标记内容不同，则可能被判定为重复的内容，这不利于 SEO。以我自己的实践来说，考虑到浏览器与搜索引擎支持，目前在博客中支持了 Microdata。JSON-LD 稍后支持。</p>
<p>除了对网页数据进行语义化标注，Google 还对 GMail <a href="https://developers.google.com/gmail/markup/getting-started">做了支持</a>。如果你曾经使用过 Google 出品的 Index 这个产品，会发现 Google 对邮件的内容分析做得相当好，这一部分是机器学习的功劳，一部分仰赖各个厂商对邮件的标记。例如机票、酒店预订等通知邮件，通过良好的标记都可以帮助 Google 在产品中更直观地展示邮件中的重要信息，甚至帮助用户订车、安排日程等。</p>
<hr>
<p>参考：</p>
<ul>
<li><a href="https://ahrefs.com/blog/what-is-structured-data/">https://ahrefs.com/blog/what-is-structured-data/</a></li>
<li><a href="https://www.wikiwand.com/en/Semantic_Web">https://www.wikiwand.com/en/Semantic_Web</a></li>
<li><a href="https://www.w3.org/TR/microdata/">https://www.w3.org/TR/microdata/</a></li>
<li><a href="https://lepture.com/zh/2015/fe-microdata">https://lepture.com/zh/2015/fe-microdata</a></li>
<li><a href="http://microformats.org/">http://microformats.org/</a></li>
<li><a href="https://json-ld.org/">https://json-ld.org/</a></li>
</ul>
<hr><div class="footnotes"><ol><li id="fn_1">摘自维基百科 <a no-style href="#fn_ref_1">↩</a></li><li id="fn_2">一类读出屏幕内容的软件，一般为视觉障碍的用户服务 <a no-style href="#fn_ref_2">↩</a></li></ol></div>
            </div>
        </article>
        <div id="ga-tags">
    
    <span class="ga-tag">
        <a class="ga-highlight" href="https://blog.imalan.cn/tag/前端/">#前端</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="https://blog.imalan.cn/tag/VOID笔记/">#VOID笔记</a>
    </span>
    
</div>
    </section>

    
<section id="ga-content_pager">

    <div class="next">
        <a class="ga-highlight" href="https://blog.imalan.cn/archives/261/">Typecho 搜索增强：ExSearch</a>
        <p class="yue">🔍 为 Typecho 带来实时搜索体验。</p>
    </div>


    <div class="prev">
        <a class="ga-highlight" href="https://blog.imalan.cn/archives/323/">Typecho Theme Q 纪念碑</a>
        <p class="yue">Typecho Theme Q 是我写的一款 Typecho 主题。</p>
    </div>

</section>


    
        <script>
            var initValine = function () {
                new Valine({"enable": true, "el": "#vcomments", "appId": "6chFXPTjrjYnjFk9duROcboN-gzGzoHsz", "appKey": "c1CRooaFmpLs4xi7x3YLm3ma", "visitor": true, "recordIP": true, "placeholder": "\u6765\u7545\u6240\u6b32\u8a00\u5427~"});
            }
        </script>
        <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
        <div id="vcomments"></div>
    

</main>

                <footer class="ga-mono" id="ga-footer">
                    <section>
                        <span id="ga-uptime"></span>
                        <span class="brand">智的博客</span>
                    </section>
                    <section>
                        <p class="copyright">
                            <span>Copyright © 2020 熊猫小A</span>
                            <span>Powered by <a no-style href="https://github.com/AlanDecode/Maverick" target="_blank">Maverick & Galileo</a></span>
                        </p>
                        <div class="copyright">
                            <span class="footer-addon">
                                
<a no-style href="http://beian.miit.gov.cn" target="_blank">京ICP备18000133号-1</a> | 
<a no-style href="https://www.upyun.com" target="_blank">又拍云</a>

                            </span>
                            <nav class="social-links">
                                <ul><li><a class="no-style" title="Twitter" href="https://twitter.com/AlanDecode" target="_blank"><i class="gi gi-twitter"></i>Twitter</a></li><span class="separator">·</span><li><a class="no-style" title="GitHub" href="https://github.com/AlanDecode" target="_blank"><i class="gi gi-github"></i>GitHub</a></li><span class="separator">·</span><li><a class="no-style" title="Weibo" href="https://weibo.com/5245109677/" target="_blank"><i class="gi gi-weibo"></i>Weibo</a></li></ul>
                            </nav>
                        </div>
                    </section>
                    <script>
                        var site_build_date = "2017-06-29T12:00+08:00"
                    </script>
                    <script src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/galileo-dc4baa7cf4.js"></script>
                </footer>
            </div>
        </div>
    </div>

    <!--katex-->
    <script defer src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/katex.min.js"></script>
    <script>
    mathOpts = {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\[", right: "\\]", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false}
        ]
    };
    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    <script src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    
<script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e4f3a7c02ac2aabc41a1cfa95f61a026";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
</script>
<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
<script>
if(window.location.hash){
    var checkExist = setInterval(function() {
       if ($(window.location.hash).length) {
          $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
          clearInterval(checkExist);
       }
    }, 100);
}
</script>
<script>
if(window.navigator && navigator.serviceWorker) {
  caches.keys().then(function(cacheNames) {
    cacheNames.forEach(function(cacheName) {
      caches.delete(cacheName);
    });
  }).then(function(){
    console.log('Cache cleaned.');
  });
  navigator.serviceWorker.getRegistrations()
  .then(function(registrations) {
    for(let registration of registrations) {
      registration.unregister();
    }
  }).then(function(){
    console.log('Service Worker stopped.');
  });
}
</script>

    </body>
</html>